{"version":3,"file":"commonHelpers.js","sources":["../src/js/menu.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const burgerMenuButton = document.querySelector('.menu-area');\n  const menuCurtain = document.getElementById('menu-curtain');\n  const body = document.body;\n  const menuContainer = document.getElementById('menu-container');\n  const menuContentOverlay = document.getElementById('menu-content-overlay');\n  const menuRounder = document.getElementById('menu-rounder');\n\n\n  burgerMenuButton.addEventListener('click', () => {\n    menuCurtain.classList.add('menu-curtain--opened', 'menu-curtain--animate');\n    menuContainer.style.display = 'block';\n    body.classList.add('menu--no-scroll');\n    menuContentOverlay.classList.toggle('active');\n\n    \n    document.querySelectorAll('.menu-item').forEach(item => {\n      item.removeEventListener('click', handleMenuItemClick);\n      item.removeEventListener('click', logMenuInteraction);\n      item.addEventListener('click', () => {\n        handleMenuItemClick(item);\n        logMenuInteraction(item);\n      });\n    });\n\n    if (menuRounder) {\n      menuRounder.classList.add('menu-rounder--opened-all');\n    }\n  });\n\n  \n  const closeMenu = () => {\n    menuContentOverlay.classList.remove('active');\n    menuCurtain.classList.remove(\n      'menu-curtain--opened',\n      'menu-curtain--animate'\n    );\n    body.classList.remove('menu--no-scroll');\n    menuContainer.style.display = 'none';\n    if (menuRounder) {\n      menuRounder.classList.remove('menu-rounder--opened-all');\n    }\n    closeAllMenuLevels();\n  };\n\n  \n  document.addEventListener('click', event => {\n    if (\n      !menuContainer.contains(event.target) &&\n      !burgerMenuButton.contains(event.target)\n    ) {\n      closeMenu();\n    }\n  });\n\n  \n  document.querySelectorAll('a').forEach(item => {\n    item.addEventListener('click', closeMenu);\n  });\n\n \n  const menuItemArrows = document.querySelectorAll('.menu-item-arrow');\n  const menuItemArrowsBack = document.querySelectorAll('.menu-btn-back__icon');\n\n  \n  const toggleTransform = () => {\n    currentState = (currentState + 1) % 4;\n    updateTransform();\n    updateParentClass();\n  };\n\n  \n  const toggleTransformBack = () => {\n    currentState = (currentState - 1 + 4) % 4;\n    updateTransform();\n    updateParentClass();\n  };\n\n  menuItemArrows.forEach(arrow => {\n    arrow.removeEventListener('click', toggleTransform);\n    arrow.addEventListener('click', toggleTransform);\n  });\n\n  menuItemArrowsBack.forEach(backArrow => {\n    backArrow.removeEventListener('click', toggleTransformBack);\n    backArrow.addEventListener('click', toggleTransformBack);\n  });\n});\n\n\nlet currentState = 0;\n\n\nconst updateTransform = () => {\n  const menuRounder = document.querySelector('.menu-rounder');\n  const transformValues = [0, -272, -544]; \n\n  if (menuRounder) {\n    menuRounder.style.transform = `translateX(${transformValues[currentState]}px)`;\n  }\n};\n\n\nconst updateParentClass = () => {\n  const menuCascade = document.getElementById('menu-cascade');\n  const targetElement = menuCascade.querySelector(\n    'ul.menu-root.menu-level.menu-level-0'\n  );\n\n  if (targetElement) {\n    if (currentState === 0) {\n      targetElement.classList.add('first-layer');\n    } else {\n      targetElement.classList.remove('first-layer');\n    }\n  }\n};\n\n\nconst toggleTransform = () => {\n  currentState = (currentState + 1) % 4;\n  updateTransform();\n  updateParentClass();\n};\n\n\nconst toggleTransformBack = () => {\n  currentState = (currentState - 1 + 4) % 4;\n  updateTransform();\n  updateParentClass();\n};\n\n\nconst handleMenuItemClick = e => {\n  if (e.classList.contains('is-father')) {\n    document.querySelectorAll('.menu-root').forEach(menuRoot => {\n      menuRoot.classList.add('menu-level--opened');\n    });\n\n\n    const menuLevel = e.querySelector('.menu-level');\n    if (menuLevel) {\n      menuLevel.classList.add('menu-level--opened');\n      const parentUl = e.parentNode;\n      if (parentUl.nodeName === 'UL') {\n        parentUl.classList.remove('first-layer');\n      }\n    }\n  }\n};\n\n\nconst closeAllMenuLevels = () => {\n  document.querySelectorAll('.menu-root').forEach(menuRoot => {\n    menuRoot.classList.remove('menu-level--opened');\n  });\n  document.querySelectorAll('.menu-level').forEach(menuLevel => {\n    menuLevel.classList.remove('menu-level--opened');\n  });\n};\n\n\nconst logMenuInteraction = e => {\n  const classList = e.classList;\n  if (classList.contains('menu-btn-back')) {\n    const backLabel = e.querySelector('.menu-btn-back__label');\n    const parentItem = e.parentElement.querySelector(\n      '.regua-navegacao-menu-item'\n    );\n    if (backLabel && parentItem) {\n      console.log(\n        `back | ${parentItem.textContent} > ${backLabel.textContent}`\n      );\n    }\n  } else if (classList.contains('is-father')) {\n    console.log(`navegacao | ${getBreadcrumb(e)}`);\n  } else {\n    const itemTitle = e.querySelector('.menu-item-title').textContent;\n    const parentBreadcrumb = getBreadcrumb(e.parentElement.parentElement);\n    console.log(\n      `links clicaveis | ${\n        parentBreadcrumb ? `${parentBreadcrumb} > ${itemTitle}` : itemTitle\n      }`\n    );\n  }\n};\n\n\nconst getBreadcrumb = e => {\n  const breadcrumbs = [];\n  let currentElement = e;\n\n  while (currentElement && currentElement.id !== 'menu-cascade') {\n    const titleElement = currentElement.querySelector('.menu-item-title');\n    if (titleElement) {\n      breadcrumbs.push(titleElement.textContent);\n    }\n    if (currentElement.classList.contains('is-father')) {\n      const backLabel = currentElement.querySelector('.menu-btn-back__label');\n      if (backLabel) {\n        breadcrumbs.push(backLabel.textContent);\n      }\n    }\n    currentElement = currentElement.parentNode;\n  }\n  return breadcrumbs.reverse().join(' > ');\n};\n\n\ndocument.addEventListener('click', e => {\n  const fatherElement = e.target.closest('.is-father');\n  if (fatherElement) {\n    toggleTransform();\n    handleMenuItemClick(fatherElement);\n  }\n});\n\n\ndocument.addEventListener('click', e => {\n  const backIcon = e.target.closest('.menu-btn-back__icon');\n  if (backIcon) {\n    toggleTransformBack();\n  }\n});\n"],"names":["burgerMenuButton","menuCurtain","body","menuContainer","menuContentOverlay","menuRounder","item","handleMenuItemClick","logMenuInteraction","closeMenu","closeAllMenuLevels","event","menuItemArrows","menuItemArrowsBack","toggleTransform","currentState","updateTransform","updateParentClass","toggleTransformBack","arrow","backArrow","transformValues","targetElement","menuRoot","menuLevel","parentUl","classList","backLabel","parentItem","getBreadcrumb","itemTitle","parentBreadcrumb","breadcrumbs","currentElement","titleElement","fatherElement"],"mappings":"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"}